<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Solar Irradiance Prediction</title>

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: 'Poppins', Arial, sans-serif;
    color: white;
}

.page {
    display: none;
    min-height: 100vh;
    padding: 40px 20px;
}
.page.active { display: block; }

.card {
    max-width: 420px;
    margin: auto;
    background: rgba(0,0,0,0.45);
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(0,0,0,0.6);
}

h1, h2, p { text-align: center; }

button {
    width: 100%;
    padding: 12px;
    margin-top: 12px;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    font-weight: bold;
    cursor: pointer;
    background: linear-gradient(135deg,#ffeb3b,#ff9800);
    color: black;
}

input, select {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border-radius: 10px;
    border: none;
}

.result {
    margin-top: 15px;
    padding-left: 10px;
    border-left: 4px solid #ffeb3b;
    font-size: 14px;
}

/* BACKGROUNDS */
#home { background: linear-gradient(135deg,#ff512f,#f09819,#ffeb3b); }
#locations { background: linear-gradient(135deg,#00c6ff,#0072ff); }
#predict { background: linear-gradient(135deg,#ff6a00,#ee0979); }
#resultPage { background: linear-gradient(135deg,#11998e,#38ef7d); }
</style>
</head>

<body>

<!-- HOME -->
<div class="page active" id="home">
    <div class="card">
        <h1>ğŸŒ Solar Irradiance Prediction</h1>
        <p>Frontend Simulation Project</p>
        <button onclick="showPage('locations')">Start Project</button>
    </div>
</div>

<!-- LOCATIONS -->
<div class="page" id="locations">
    <div class="card">
        <h2>Select District</h2>

        <button onclick="openPredict('Nellore')">Nellore</button>
        <button onclick="openPredict('Chennai')">Chennai</button>
        <button onclick="openPredict('Hyderabad')">Hyderabad</button>
        <button onclick="openPredict('Bangalore')">Bangalore</button>
        <button onclick="openPredict('Delhi')">Delhi</button>

        <button onclick="showPage('home')">â¬… Back</button>
    </div>
</div>

<!-- PREDICT -->
<div class="page" id="predict">
    <div class="card">
        <h2 id="locTitle"></h2>

        <select id="area">
            <option value="">Select Area</option>
        </select>

        <input type="time" id="time" value="12:00">

        <button onclick="predictAndRedirect()">Predict Solar Irradiance</button>

        <button onclick="showPage('locations')">â¬… Change Location</button>
    </div>
</div>

<!-- RESULT PAGE -->
<div class="page" id="resultPage">
    <div class="card">
        <h2>ğŸ“Š Prediction Result</h2>
        <div class="result" id="finalResult"></div>
        <button onclick="showPage('predict')">â¬… Back</button>
        <button onclick="showPage('home')">ğŸ  Home</button>
    </div>
</div>

<script>
/* PAGE SWITCH */
function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

/* AREA DATA */
const areaData = {
    Nellore: ["Stonehousepet", "Vedayapalem", "Magunta Layout", "kovur", "Buchireddypalem"],
    Chennai: ["T Nagar", "Anna Nagar", "Velachery"],
    Hyderabad: ["Gachibowli", "Madhapur", "Kukatpally"],
    Bangalore: ["Whitefield", "Electronic City", "Indiranagar"],
    Delhi: ["Dwarka", "Rohini", "Saket"]
};

let currentLocation = "";

/* OPEN PREDICT PAGE */
function openPredict(loc) {
    currentLocation = loc;
    document.getElementById("locTitle").innerText = "ğŸ“ " + loc;

    const areaSelect = document.getElementById("area");
    areaSelect.innerHTML = '<option value="">Select Area</option>';

    areaData[loc].forEach(a => {
        const opt = document.createElement("option");
        opt.value = a;
        opt.textContent = a;
        areaSelect.appendChild(opt);
    });

    showPage('predict');
}

/* RANDOM UTILS */
function rand(min, max) {
    return Math.random() * (max - min) + min;
}

/* PREDICT & REDIRECT */
function predictAndRedirect() {

    const area = document.getElementById("area").value || "Not specified";
    const hour = parseInt(document.getElementById("time").value.split(":")[0]);

    let irradiance;
    if (hour >= 6 && hour < 9) irradiance = rand(200, 450);
    else if (hour < 12) irradiance = rand(500, 750);
    else if (hour < 15) irradiance = rand(750, 1000);
    else if (hour < 17) irradiance = rand(400, 650);
    else if (hour < 18) irradiance = rand(200, 350);
    else irradiance = rand(10, 60);

    const tempC = rand(26, 38);
    const humidity = rand(40, 75);
    const pressure = rand(1005, 1018);
    const tempF = (tempC * 9/5) + 32;

    document.getElementById("finalResult").innerHTML = `
        <b>ğŸŒ Solar Irradiance</b><br><br>

        ğŸ“ Location: ${currentLocation}<br>
        ğŸ˜ Area: ${area}<br>
        â° Time: ${document.getElementById("time").value}<br><br>

        <span style="font-size:22px;color:#ffeb3b;">
            ${irradiance.toFixed(2)} W/mÂ²
        </span><br><br>

        ğŸŒ¡ Temperature: ${tempC.toFixed(1)} Â°C | ${tempF.toFixed(1)} Â°F<br>
        ğŸ’§ Humidity: ${humidity.toFixed(0)} %<br>
        ğŸŒ¬ Pressure: ${pressure.toFixed(0)} hPa
    `;

    showPage('resultPage');
}
</script>

</body>
</html>

