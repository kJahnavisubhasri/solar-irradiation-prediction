<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Solar Irradiance Prediction</title>

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: 'Poppins', Arial, sans-serif;
    color: white;
}

/* ---------- PAGE CONTROL ---------- */
.page {
    display: none;
    min-height: 100vh;
    padding: 40px 20px;
}
.page.active { display: block; }

/* ---------- COMMON CARD ---------- */
.card {
    max-width: 420px;
    margin: auto;
    background: rgba(0,0,0,0.45);
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(0,0,0,0.6);
}

h1, h2 {
    text-align: center;
    margin-bottom: 10px;
}

p {
    text-align: center;
    opacity: 0.9;
}

/* ---------- BUTTONS ---------- */
button {
    width: 100%;
    padding: 12px;
    margin-top: 12px;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    font-weight: bold;
    cursor: pointer;
    background: linear-gradient(135deg,#ffeb3b,#ff9800);
    color: black;
}

button:hover {
    transform: scale(1.02);
}

/* ---------- INPUT ---------- */
input {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border-radius: 10px;
    border: none;
}

/* ---------- STATUS & RESULT ---------- */
.status {
    margin-top: 15px;
    font-size: 13px;
    line-height: 1.6;
}

.result {
    margin-top: 15px;
    padding-left: 12px;
    border-left: 4px solid #ffeb3b;
    font-size: 14px;
}

/* ---------- PAGE BACKGROUNDS ---------- */
#home {
    background: linear-gradient(135deg,#ff512f,#f09819,#ffeb3b);
}

#locations {
    background: linear-gradient(135deg,#00c6ff,#0072ff,#00ffcc);
}

#predict {
    background: linear-gradient(135deg,#ff6a00,#ee0979,#ffcc00);
}
</style>
</head>

<body>

<!-- ================= HOME ================= -->
<div class="page active" id="home">
    <div class="card">
        <h1>üåû Solar Irradiance Prediction</h1>
        <p>Frontend Simulation for Solar Energy Forecasting</p>
        <button onclick="showPage('locations')">Start Project</button>
    </div>
</div>

<!-- ================= LOCATIONS ================= -->
<div class="page" id="locations">
    <div class="card">
        <h2>Select Location</h2>

        <button onclick="openPredict('Nellore')">Nellore</button>
        <button onclick="openPredict('Chennai')">Chennai</button>
        <button onclick="openPredict('Hyderabad')">Hyderabad</button>
        <button onclick="openPredict('Bangalore')">Bangalore</button>
        <button onclick="openPredict('Vijayawada')">Vijayawada</button>
        <button onclick="openPredict('Visakhapatnam')">Visakhapatnam</button>
        <button onclick="openPredict('Tirupati')">Tirupati</button>
        <button onclick="openPredict('Guntur')">Guntur</button>
        <button onclick="openPredict('Kurnool')">Kurnool</button>
        <button onclick="openPredict('Rajahmundry')">Rajahmundry</button>

        <button onclick="showPage('home')" style="margin-top:20px;">‚¨Ö Back</button>
    </div>
</div>

<!-- ================= PREDICTION ================= -->
<div class="page" id="predict">
    <div class="card">
        <h2 id="locTitle">Location</h2>

        <input type="time" id="time" value="12:00">

        <button onclick="predict()">Predict Solar Irradiance</button>

        <div class="status" id="status"></div>
        <div class="result" id="result"></div>

        <button onclick="showPage('locations')" style="margin-top:15px;">‚¨Ö Change Location</button>
    </div>
</div>

<script>
/* ---------- PAGE NAV ---------- */
function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

/* ---------- GLOBAL ---------- */
let currentLocation = "";

/* ---------- LOCATION CLICK ---------- */
function openPredict(loc) {
    currentLocation = loc;
    document.getElementById("locTitle").innerText = "üìç " + loc;
    document.getElementById("status").innerHTML = "";
    document.getElementById("result").innerHTML = "";
    showPage('predict');
}

/* ---------- HELPERS ---------- */
function rand(min, max) {
    return Math.random() * (max - min) + min;
}
function wait(ms) {
    return new Promise(r => setTimeout(r, ms));
}

/* ---------- PREDICTION ---------- */
async function predict() {
    const status = document.getElementById("status");
    const result = document.getElementById("result");

    status.innerHTML = "";
    result.innerHTML = "";

    const hour = parseInt(document.getElementById("time").value.split(":")[0]);

    status.innerHTML += "üåê Fetching weather data for " + currentLocation + "...<br>";
    await wait(600);

    const tempC = rand(26, 38);
    const humidity = rand(40, 75);
    const pressure = rand(1005, 1018);

    status.innerHTML += "‚öôÔ∏è Processing atmospheric parameters...<br>";
    await wait(600);

    status.innerHTML += "ü§ñ Running solar irradiance model...<br>";
    await wait(700);

    let irradiance;
    if (hour >= 6 && hour < 9) irradiance = rand(200, 450);
    else if (hour < 12) irradiance = rand(500, 750);
    else if (hour < 15) irradiance = rand(750, 1000);
    else if (hour < 17) irradiance = rand(400, 650);
    else if (hour < 18) irradiance = rand(200, 350);
    else irradiance = rand(10, 60);

    const tempF = (tempC * 9/5) + 32;
    const pressureMmHg = pressure * 0.75006;

    status.innerHTML += "‚úÖ Prediction completed<br>";

    result.innerHTML = `
        <b>Predicted Solar Irradiance</b><br>
        <span style="font-size:20px;color:#ffeb3b;">
        ${irradiance.toFixed(2)} W/m¬≤
        </span><br><br>

        üå° ${tempC.toFixed(1)} ¬∞C | ${tempF.toFixed(1)} ¬∞F<br>
        üíß ${humidity.toFixed(0)} %<br>
        üå¨ ${pressure.toFixed(0)} hPa | ${pressureMmHg.toFixed(1)} mmHg
    `;
}
</script>

</body>
</html>
